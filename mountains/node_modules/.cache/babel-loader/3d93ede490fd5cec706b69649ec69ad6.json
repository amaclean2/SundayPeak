{"ast":null,"code":"var _jsxFileName = \"/Users/andrewmaclean/BackyardFriends/mountains/src/Components/AdventureEditor/TickPanel.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { CARD_STATES, useAdventureEditContext, useCardStateContext, useGetUser, useUserStateContext } from '../../Providers';\nimport { Field, FieldHeader, FieldRow } from '../Reusable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserImage = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"user-image\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 12,\n  columnNumber: 5\n}, this);\n\n_c = UserImage;\n\nconst MailIcon = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"mail-icon\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 5\n}, this);\n\n_c2 = MailIcon;\n\nconst AdventureTickPanel = () => {\n  _s();\n\n  const {\n    currentAdventure\n  } = useAdventureEditContext();\n  const {\n    switchCard\n  } = useCardStateContext();\n  const {\n    getOtherUser\n  } = useGetUser();\n  const {\n    workingUser\n  } = useUserStateContext();\n  const [ticks, setTicks] = useState(null);\n  const [userOnLoad, setUserOnLoad] = useState();\n  useEffect(() => {\n    (workingUser === null || workingUser === void 0 ? void 0 : workingUser.id) && setUserOnLoad(workingUser.id);\n  }, []);\n  useEffect(() => {\n    if (currentAdventure !== null && currentAdventure !== void 0 && currentAdventure.ticks) {\n      setTicks(currentAdventure.ticks);\n    }\n  }, [currentAdventure]);\n\n  const transitionToUsers = user_id => {\n    getOtherUser({\n      user_id\n    });\n  };\n\n  useEffect(() => {\n    if (userOnLoad && workingUser !== null && workingUser !== void 0 && workingUser.id && userOnLoad !== (workingUser === null || workingUser === void 0 ? void 0 : workingUser.id)) {\n      switchCard(CARD_STATES.profile);\n    }\n  }, [workingUser]);\n\n  if (!ticks) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxDEV(FieldRow, {\n    children: /*#__PURE__*/_jsxDEV(Field, {\n      children: [/*#__PURE__*/_jsxDEV(FieldHeader, {\n        text: \"BYF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"tick-list\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: ticks.map((tick, key) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => transitionToUsers(tick.user_id),\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(UserImage, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [tick.first_name, \" \", tick.last_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(MailIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this)]\n          }, `user_${key}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AdventureTickPanel, \"DdkhCVLSJWVSR/u9z0GYAnjxBz8=\", false, function () {\n  return [useAdventureEditContext, useCardStateContext, useGetUser, useUserStateContext];\n});\n\n_c3 = AdventureTickPanel;\nexport default AdventureTickPanel;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"UserImage\");\n$RefreshReg$(_c2, \"MailIcon\");\n$RefreshReg$(_c3, \"AdventureTickPanel\");","map":{"version":3,"names":["useEffect","useState","CARD_STATES","useAdventureEditContext","useCardStateContext","useGetUser","useUserStateContext","Field","FieldHeader","FieldRow","UserImage","MailIcon","AdventureTickPanel","currentAdventure","switchCard","getOtherUser","workingUser","ticks","setTicks","userOnLoad","setUserOnLoad","id","transitionToUsers","user_id","profile","map","tick","key","first_name","last_name"],"sources":["/Users/andrewmaclean/BackyardFriends/mountains/src/Components/AdventureEditor/TickPanel.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n    CARD_STATES,\n    useAdventureEditContext,\n    useCardStateContext,\n    useGetUser,\n    useUserStateContext\n} from '../../Providers';\nimport { Field, FieldHeader, FieldRow } from '../Reusable';\n\nconst UserImage = () => (\n    <div className=\"user-image\" />\n);\n\nconst MailIcon = () => (\n    <div className=\"mail-icon\" />\n);\n\nconst AdventureTickPanel = () => {\n    const { currentAdventure } = useAdventureEditContext();\n    const { switchCard } = useCardStateContext();\n    const { getOtherUser } = useGetUser();\n    const { workingUser } = useUserStateContext();\n\n    const [ticks, setTicks] = useState(null);\n    const [userOnLoad, setUserOnLoad] = useState();\n\n    useEffect(() => {\n        workingUser?.id && setUserOnLoad(workingUser.id);\n    }, []);\n\n    useEffect(() => {\n        if (currentAdventure?.ticks) {\n            setTicks(currentAdventure.ticks);\n        }\n    }, [currentAdventure]);\n\n    const transitionToUsers = (user_id) => {\n        getOtherUser({ user_id });\n    };\n\n    useEffect(() => {\n        if (userOnLoad && workingUser?.id && userOnLoad !== workingUser?.id) {\n            switchCard(CARD_STATES.profile);\n        }\n    }, [workingUser]);\n\n    if (!ticks) {\n        return null;\n    }\n\n    return (\n        <FieldRow>\n            <Field>\n                <FieldHeader text=\"BYF\" />\n                <table className=\"tick-list\">\n                    <tbody>\n                        {ticks.map((tick, key) => (\n                            <tr key={`user_${key}`} onClick={() => transitionToUsers(tick.user_id)}>\n                                <td><UserImage /></td>\n                                <td>{tick.first_name} {tick.last_name}</td>\n                                <td></td>\n                                <td><MailIcon /></td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </Field>\n        </FieldRow>\n    );\n};\n\nexport default AdventureTickPanel;"],"mappings":"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"},"metadata":{},"sourceType":"module"}