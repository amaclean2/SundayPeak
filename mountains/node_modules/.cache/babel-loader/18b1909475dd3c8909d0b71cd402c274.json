{"ast":null,"code":"var _jsxFileName = \"/Users/andrewmaclean/BackyardFriends/mountains/src/Components/AdventureEditor/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef } from 'react';\nimport { useAdventureEditContext } from '../../Providers';\nimport { DisplayCard, FieldHeader, HeaderSubtext, ProfileHeader } from '../Reusable';\nimport AdventureEditorButtons from './Buttons';\nimport AdventureEditorForm from './Form';\nimport AdventureViewer from './Viewer';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdventureEditor = () => {\n  _s();\n\n  const {\n    setAdventureAddState,\n    currentAdventure,\n    setCurrentAdventure,\n    isEditable,\n    setIsEditable,\n    adventureError\n  } = useAdventureEditContext();\n  const menuRef = useRef();\n\n  const onChange = e => {\n    return setCurrentAdventure(workingAdventure => {\n      const newAdventure = { ...workingAdventure\n      };\n      newAdventure[e.target.name] = e.target.value;\n      return newAdventure;\n    });\n  };\n\n  const handleClose = () => {\n    setCurrentAdventure(null);\n    setAdventureAddState(false);\n    setIsEditable(false);\n  }; // scrolls back to the top when there is a new error\n\n\n  useEffect(() => {\n    menuRef.current.scrollTop = 0;\n  }, [adventureError]);\n\n  const buildProfileHeader = () => {\n    if (currentAdventure) {\n      if (isEditable) {\n        return /*#__PURE__*/_jsxDEV(ProfileHeader, {\n          textContents: currentAdventure.adventure_name,\n          editFields: {\n            isEditable,\n            propName: 'adventure_name',\n            onChange\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(ProfileHeader, {\n          children: [/*#__PURE__*/_jsxDEV(FieldHeader, {\n            className: \"page-header\",\n            text: currentAdventure.adventure_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(HeaderSubtext, {\n            children: currentAdventure.nearest_city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 6\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(ProfileHeader, {\n        children: /*#__PURE__*/_jsxDEV(FieldHeader, {\n          className: \"page-header\",\n          text: \"Adventure Creator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DisplayCard, {\n    onClose: handleClose,\n    children: [buildProfileHeader(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-content\",\n      ref: menuRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-box main-adventure-content\",\n        children: [currentAdventure && isEditable && /*#__PURE__*/_jsxDEV(AdventureEditorForm, {\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }, this), currentAdventure && !isEditable && /*#__PURE__*/_jsxDEV(AdventureViewer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(AdventureEditorButtons, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AdventureEditor, \"lom6rnXQEmWQr7GZw0z1J/QyoRc=\", false, function () {\n  return [useAdventureEditContext];\n});\n\n_c = AdventureEditor;\nexport default AdventureEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdventureEditor\");","map":{"version":3,"names":["useEffect","useRef","useAdventureEditContext","DisplayCard","FieldHeader","HeaderSubtext","ProfileHeader","AdventureEditorButtons","AdventureEditorForm","AdventureViewer","AdventureEditor","setAdventureAddState","currentAdventure","setCurrentAdventure","isEditable","setIsEditable","adventureError","menuRef","onChange","e","workingAdventure","newAdventure","target","name","value","handleClose","current","scrollTop","buildProfileHeader","adventure_name","propName","nearest_city"],"sources":["/Users/andrewmaclean/BackyardFriends/mountains/src/Components/AdventureEditor/index.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\nimport {\n\tuseAdventureEditContext\n} from '../../Providers';\nimport { DisplayCard, FieldHeader, HeaderSubtext, ProfileHeader } from '../Reusable';\nimport AdventureEditorButtons from './Buttons';\nimport AdventureEditorForm from './Form';\nimport AdventureViewer from './Viewer';\n\nimport './styles.css';\n\nconst AdventureEditor = () => {\n\tconst {\n\t\tsetAdventureAddState,\n\t\tcurrentAdventure,\n\t\tsetCurrentAdventure,\n\t\tisEditable,\n\t\tsetIsEditable,\n\t\tadventureError\n\t} = useAdventureEditContext();\n\n\tconst menuRef = useRef();\n\n\tconst onChange = (e) => {\n\n\t\treturn setCurrentAdventure((workingAdventure) => {\n\t\t\tconst newAdventure = { ...workingAdventure };\n\t\t\tnewAdventure[e.target.name] = e.target.value;\n\n\t\t\treturn newAdventure;\n\t\t});\n\t};\n\n\tconst handleClose = () => {\n\t\tsetCurrentAdventure(null);\n\t\tsetAdventureAddState(false);\n\t\tsetIsEditable(false);\n\t};\n\n\t// scrolls back to the top when there is a new error\n\tuseEffect(() => {\n\t\tmenuRef.current.scrollTop = 0\n\t}, [adventureError]);\n\n\tconst buildProfileHeader = () => {\n\t\tif (currentAdventure) {\n\t\t\tif (isEditable) {\n\t\t\t\treturn (\n\t\t\t\t\t<ProfileHeader\n\t\t\t\t\ttextContents={currentAdventure.adventure_name}\n\t\t\t\t\teditFields={{\n\t\t\t\t\t\tisEditable,\n\t\t\t\t\t\tpropName: 'adventure_name',\n\t\t\t\t\t\tonChange\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<ProfileHeader>\n\t\t\t\t\t<FieldHeader className=\"page-header\" text={currentAdventure.adventure_name} />\n\t\t\t\t\t<HeaderSubtext>{currentAdventure.nearest_city}</HeaderSubtext>\n\t\t\t\t</ProfileHeader>\n\t\t\t\t)\n\t\t\t}\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<ProfileHeader>\n\t\t\t\t\t<FieldHeader className=\"page-header\" text=\"Adventure Creator\" />\n\t\t\t\t</ProfileHeader>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<DisplayCard onClose={handleClose}>\n\t\t\t{buildProfileHeader()}\n\t\t\t<div className=\"profile-content\" ref={menuRef}>\n\t\t\t\t<div className=\"flex-box main-adventure-content\">\n\t\t\t\t\t{currentAdventure && isEditable && (\n\t\t\t\t\t\t<AdventureEditorForm onChange={onChange} />\n\t\t\t\t\t)}\n\t\t\t\t\t{currentAdventure && !isEditable && (\n\t\t\t\t\t\t<AdventureViewer />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<AdventureEditorButtons />\n\t\t\t</div>\n\t\t</DisplayCard>\n\t);\n};\n\nexport default AdventureEditor;"],"mappings":"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"},"metadata":{},"sourceType":"module"}