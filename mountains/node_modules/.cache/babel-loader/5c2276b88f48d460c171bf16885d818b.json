{"ast":null,"code":"var _jsxFileName = \"/Users/andrewmaclean/BackyardFriends/mountains/src/Components/AdventureEditor/index.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef } from 'react';\nimport { useAdventureEditContext } from '../../Providers';\nimport { DisplayCard, FieldHeader, HeaderSubtext, ProfileHeader } from '../Reusable';\nimport AdventureEditorButtons from './Buttons';\nimport AdventureEditorForm from './Form';\nimport AdventureViewer from './Viewer';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdventureEditor = () => {\n  _s();\n\n  const {\n    setAdventureAddState,\n    currentAdventure,\n    setCurrentAdventure,\n    isEditable,\n    setIsEditable,\n    adventureError\n  } = useAdventureEditContext();\n  const menuRef = useRef();\n\n  const onChange = e => {\n    return setCurrentAdventure(workingAdventure => {\n      const newAdventure = { ...workingAdventure\n      };\n      newAdventure[e.target.name] = e.target.value;\n      return newAdventure;\n    });\n  };\n\n  const handleClose = () => {\n    setCurrentAdventure(null);\n    setAdventureAddState(false);\n    setIsEditable(false);\n  }; // scrolls back to the top when there is a new error\n\n\n  useEffect(() => {\n    menuRef.current.scrollTop = 0;\n  }, [adventureError]);\n\n  const buildProfileHeader = () => {\n    if (currentAdventure) {\n      if (isEditable) {\n        return /*#__PURE__*/_jsxDEV(ProfileHeader, {\n          textContents: currentAdventure.adventure_name,\n          editFields: {\n            isEditable,\n            propName: 'adventure_name',\n            onChange\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(ProfileHeader, {\n          children: [/*#__PURE__*/_jsxDEV(FieldHeader, {\n            className: \"page-header\",\n            text: currentAdventure.adventure_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(HeaderSubtext, {\n            children: currentAdventure.nearest_city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(ProfileHeader, {\n        children: /*#__PURE__*/_jsxDEV(FieldHeader, {\n          className: \"page-header\",\n          text: \"Adventure Creator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 5\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DisplayCard, {\n    onClose: handleClose,\n    children: [buildProfileHeader(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-content\",\n      ref: menuRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-box main-adventure-content\",\n        children: [currentAdventure && isEditable && /*#__PURE__*/_jsxDEV(AdventureEditorForm, {\n          onChange: onChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 41\n        }, this), currentAdventure && !isEditable && /*#__PURE__*/_jsxDEV(AdventureViewer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 42\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(AdventureEditorButtons, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AdventureEditor, \"lom6rnXQEmWQr7GZw0z1J/QyoRc=\", false, function () {\n  return [useAdventureEditContext];\n});\n\n_c = AdventureEditor;\nexport default AdventureEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdventureEditor\");","map":{"version":3,"names":["useEffect","useRef","useAdventureEditContext","DisplayCard","FieldHeader","HeaderSubtext","ProfileHeader","AdventureEditorButtons","AdventureEditorForm","AdventureViewer","AdventureEditor","setAdventureAddState","currentAdventure","setCurrentAdventure","isEditable","setIsEditable","adventureError","menuRef","onChange","e","workingAdventure","newAdventure","target","name","value","handleClose","current","scrollTop","buildProfileHeader","adventure_name","propName","nearest_city"],"sources":["/Users/andrewmaclean/BackyardFriends/mountains/src/Components/AdventureEditor/index.js"],"sourcesContent":["import { useEffect, useRef } from 'react'\n\nimport { useAdventureEditContext } from '../../Providers'\nimport { DisplayCard, FieldHeader, HeaderSubtext, ProfileHeader } from '../Reusable'\nimport AdventureEditorButtons from './Buttons'\nimport AdventureEditorForm from './Form'\nimport AdventureViewer from './Viewer'\n\nimport './styles.css'\n\nconst AdventureEditor = () => {\n\tconst {\n\t\tsetAdventureAddState,\n\t\tcurrentAdventure,\n\t\tsetCurrentAdventure,\n\t\tisEditable,\n\t\tsetIsEditable,\n\t\tadventureError\n\t} = useAdventureEditContext()\n\n\tconst menuRef = useRef()\n\n\tconst onChange = (e) => {\n\t\treturn setCurrentAdventure((workingAdventure) => {\n\t\t\tconst newAdventure = { ...workingAdventure }\n\t\t\tnewAdventure[e.target.name] = e.target.value\n\n\t\t\treturn newAdventure\n\t\t})\n\t}\n\n\tconst handleClose = () => {\n\t\tsetCurrentAdventure(null)\n\t\tsetAdventureAddState(false)\n\t\tsetIsEditable(false)\n\t}\n\n\t// scrolls back to the top when there is a new error\n\tuseEffect(() => {\n\t\tmenuRef.current.scrollTop = 0\n\t}, [adventureError])\n\n\tconst buildProfileHeader = () => {\n\t\tif (currentAdventure) {\n\t\t\tif (isEditable) {\n\t\t\t\treturn (\n\t\t\t\t\t<ProfileHeader\n\t\t\t\t\t\ttextContents={currentAdventure.adventure_name}\n\t\t\t\t\t\teditFields={{\n\t\t\t\t\t\t\tisEditable,\n\t\t\t\t\t\t\tpropName: 'adventure_name',\n\t\t\t\t\t\t\tonChange\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<ProfileHeader>\n\t\t\t\t\t\t<FieldHeader\n\t\t\t\t\t\t\tclassName='page-header'\n\t\t\t\t\t\t\ttext={currentAdventure.adventure_name}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<HeaderSubtext>{currentAdventure.nearest_city}</HeaderSubtext>\n\t\t\t\t\t</ProfileHeader>\n\t\t\t\t)\n\t\t\t}\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<ProfileHeader>\n\t\t\t\t\t<FieldHeader\n\t\t\t\t\t\tclassName='page-header'\n\t\t\t\t\t\ttext='Adventure Creator'\n\t\t\t\t\t/>\n\t\t\t\t</ProfileHeader>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<DisplayCard onClose={handleClose}>\n\t\t\t{buildProfileHeader()}\n\t\t\t<div\n\t\t\t\tclassName='profile-content'\n\t\t\t\tref={menuRef}\n\t\t\t>\n\t\t\t\t<div className='flex-box main-adventure-content'>\n\t\t\t\t\t{currentAdventure && isEditable && <AdventureEditorForm onChange={onChange} />}\n\t\t\t\t\t{currentAdventure && !isEditable && <AdventureViewer />}\n\t\t\t\t</div>\n\t\t\t\t<AdventureEditorButtons />\n\t\t\t</div>\n\t\t</DisplayCard>\n\t)\n}\n\nexport default AdventureEditor\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}